<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>SDEV140 - Error Handling and Input Validation</title>
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="https://mpjovanovich.github.io/course-notes/assets/images/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="https://mpjovanovich.github.io/course-notes/assets/images/favicon-16x16.png"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Arimo:ital,wght@0,400;0,700;1,400;1,700&family=Roboto:ital,wght@0,400;1,400;1,700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;1,400;1,700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://mpjovanovich.github.io/course-notes/assets/css/styles.css"
    />
    <link
      rel="stylesheet"
      href="https://mpjovanovich.github.io/course-notes/assets/css/highlight.css"
    />
  </head>
  <body>
    <h1 class="breadcrumb">
      <a href="https://mpjovanovich.github.io/course-notes/SDEV140/index.html"
        >SDEV140</a
      >&nbsp;&gt;&nbsp;<a href="">Error Handling and Input Validation</a>
    </h1>
    <ul>
      <li>
        <a href="#error-handling-and-input-validation"
          >Error Handling and Input Validation</a
        >
        <ul>
          <li>
            <a href="#exception-handling">Exception Handling</a>
            <ul>
              <li>
                <a href="#vs-code-exception-settings"
                  >VS Code Exception Settings</a
                >
              </li>
              <li>
                <a href="#try--except-blocks">Try / Except Blocks</a>
                <ul>
                  <li><a href="#general-syntax">General Syntax</a></li>
                  <li>
                    <a href="#the-exception-object">The Exception Object</a>
                  </li>
                </ul>
              </li>
              <li><a href="#types-of-exceptions">Types of Exceptions</a></li>
            </ul>
          </li>
          <li>
            <a href="#validation">Validation</a>
            <ul>
              <li><a href="#data-type-validation">Data Type Validation</a></li>
              <li>
                <a href="#data-range-validation">Data Range Validation</a>
              </li>
              <li>
                <a href="#data-format-validation">Data Format Validation</a>
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
    <h1 id="error-handling-and-input-validation">
      Error Handling and Input Validation
    </h1>
    <p>
      <strong>Validation</strong> is the process of ensuring that data is
      correct and useful.
    </p>
    <p>
      <strong>Exception handling</strong> is the process of responding to errors
      that occur during program execution.
    </p>
    <p>These often go hand-in-hand.</p>
    <h2 id="exception-handling">Exception Handling</h2>
    <p>Exceptions are a concept in many programming languages.</p>
    <p>When a runtime error occurs, an exception is <strong>thrown</strong>.</p>
    <p>
      The exception is either <strong>caught</strong> by an exception handler or
      the program crashes.
    </p>
    <h3 id="vs-code-exception-settings">VS Code Exception Settings</h3>
    <ul>
      <li>In VS Code, you can enable or disable exception breaking</li>
      <li>This will cause the debugger to stop when any exception is thrown</li>
      <li>Useful to see exactly where error is occurring</li>
    </ul>
    <p>
      <img
        src="images/vs_code_exception_settings.png"
        alt="VS Code Exception Settings"
      />
    </p>
    <h3 id="try-except-blocks">Try / Except Blocks</h3>
    <p>
      <em
        >Also called a <code>try</code> / <code>catch</code> block in some
        languages.</em
      >
    </p>
    <ul>
      <li>
        Use a <code>try</code> block to contain code that might cause an
        exception
      </li>
      <li>Use an <code>except</code> block to handle the exception</li>
      <li>The except block keeps the program from crashing</li>
    </ul>
    <p>We might use and except block to:</p>
    <ul>
      <li>Log the error</li>
      <li>Display an error message to the user</li>
      <li>Attempt to recover from the error</li>
    </ul>
    <h4 id="general-syntax">General Syntax</h4>
    <pre><code class="language-python">x = <span class="hljs-number">1</span>
y = <span class="hljs-number">0</span>

<span class="hljs-keyword">try</span>:
    <span class="hljs-comment"># Code that might cause an exception</span>
    print(x / y)
<span class="hljs-keyword">except</span>:
    <span class="hljs-comment"># What to do if an exception occurs</span>
    print(<span class="hljs-string">"This is a description of the error..."</span>)
</code></pre>
    <h4 id="the-exception-object">The Exception Object</h4>
    <p>
      When an exception occurs, an <strong>exception object</strong> is created.
    </p>
    <p>This object contains information about the exception.</p>
    <pre><code class="language-python"><span class="hljs-keyword">try</span>:
    print(<span class="hljs-number">1</span> / <span class="hljs-number">0</span>)
<span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
    print(e)
</code></pre>
    <h3 id="types-of-exceptions">Types of Exceptions</h3>
    <p>We can choose to handle specific types of exceptions. Useful when:</p>
    <ul>
      <li>We want to handle different exceptions differently</li>
      <li>We want to ignore certain exceptions</li>
      <li>
        We want to handle some exceptions and let others crash the program
      </li>
      <li>
        We want the program to <strong>fail gracefully</strong>
        <ul>
          <li>Close the program in a controlled manner</li>
          <li>Take above actions before closing</li>
          <li>
            Release resources (e.g. close files, network connections, etc.)
          </li>
        </ul>
      </li>
    </ul>
    <pre><code class="language-python"><span class="hljs-keyword">try</span>:
    <span class="hljs-comment">## Will throw a ZeroDivisionError</span>
    print(<span class="hljs-number">1</span> / <span class="hljs-number">0</span>)

    <span class="hljs-comment">## Will throw a ValueError</span>
    print(int(<span class="hljs-string">"abc"</span>))

    <span class="hljs-comment">## Will throw a FileNotFoundError</span>
    file = open(<span class="hljs-string">"does_not_exist.txt"</span>)

    <span class="hljs-comment">## Will throw a NameError - no handler so program will crash</span>
    print(variable_does_not_exist)

<span class="hljs-keyword">except</span> ZeroDivisionError:
    print(<span class="hljs-string">"Cannot divide by zero."</span>)

<span class="hljs-keyword">except</span> ValueError:
    print(<span class="hljs-string">"Invalid value."</span>)

<span class="hljs-keyword">except</span> FileNotFoundError:
    print(<span class="hljs-string">"File not found."</span>)
</code></pre>
    <h2 id="validation">Validation</h2>
    <ul>
      <li>
        <strong>Data Type Validation</strong>: Ensuring that data is the correct
        type
      </li>
      <li>
        <strong>Data Range Validation</strong>: Ensuring that data is within a
        certain range
      </li>
      <li>
        <strong>Data Format Validation</strong>: Ensuring that data is in the
        correct format
      </li>
    </ul>
    <h3 id="data-type-validation">Data Type Validation</h3>
    <ul>
      <li>
        Use exception handling with built-in conversion function
        <ul>
          <li>
            e.g. <code>int()</code>, <code>float()</code>, <code>str()</code>,
            <code>bool()</code>, etc.
          </li>
        </ul>
      </li>
    </ul>
    <pre><code class="language-python"><span class="hljs-keyword">try</span>:
    number = int(input(<span class="hljs-string">"Enter a number: "</span>))
<span class="hljs-keyword">except</span> ValueError:
    <span class="hljs-comment">## Handle invalid input</span>
    print(<span class="hljs-string">"Invalid number."</span>)
</code></pre>
    <h3 id="data-range-validation">Data Range Validation</h3>
    <ul>
      <li>Use a conditional statement</li>
    </ul>
    <pre><code class="language-python">number = int(input(<span class="hljs-string">"Enter a number between 1 and 10: "</span>))
<span class="hljs-keyword">if</span> number &lt; <span class="hljs-number">1</span> <span class="hljs-keyword">or</span> number &gt; <span class="hljs-number">10</span>:
    <span class="hljs-comment">## Handle invalid input</span>
    print(<span class="hljs-string">"Invalid number."</span>)
</code></pre>
    <pre><code class="language-python">pet_type = input(<span class="hljs-string">"Enter a pet type for sitting service (dog, cat): "</span>)
<span class="hljs-keyword">if</span> pet_type != <span class="hljs-string">"dog"</span> <span class="hljs-keyword">and</span> pet_type != <span class="hljs-string">"cat"</span>:
    <span class="hljs-comment">## Handle invalid input</span>
    print(<span class="hljs-string">"Invalid pet type."</span>)
</code></pre>
    <h3 id="data-format-validation">Data Format Validation</h3>
    <ul>
      <li>
        Use a conditional statement, regular expression, or exception handling
        <ul>
          <li>
            e.g. <code>mm/dd/yyyy</code>, <code>mm/dd/yy</code>,
            <code>mm-dd-yyyy</code>, <code>mm-dd-yy</code>, etc.
          </li>
        </ul>
      </li>
    </ul>
    <pre><code class="language-python">date = input(<span class="hljs-string">"Enter a date in the format mm/dd/yyyy: "</span>)
<span class="hljs-keyword">if</span> len(date) != <span class="hljs-number">10</span> <span class="hljs-keyword">or</span> date[<span class="hljs-number">2</span>] != <span class="hljs-string">"/"</span> <span class="hljs-keyword">or</span> date[<span class="hljs-number">5</span>] != <span class="hljs-string">"/"</span>:
    <span class="hljs-comment">## Handle invalid input</span>
    print(<span class="hljs-string">"Invalid date."</span>)
<span class="hljs-keyword">else</span>:
    <span class="hljs-comment">## Convert to a date object</span>
    date = datetime.strptime(date, <span class="hljs-string">"%m/%d/%Y"</span>)
</code></pre>
  </body>
</html>
